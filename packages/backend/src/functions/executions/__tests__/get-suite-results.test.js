"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const get_suite_results_1 = require("../get-suite-results");
const test_execution_db_service_1 = require("../../../services/test-execution-db-service");
// Mock the database service
jest.mock('../../../services/test-execution-db-service');
describe('Get Suite Results Lambda', () => {
    beforeEach(() => {
        jest.clearAllMocks();
    });
    const createMockEvent = (suiteExecutionId) => ({
        pathParameters: suiteExecutionId ? { suiteExecutionId } : null,
        body: null,
        headers: {},
        multiValueHeaders: {},
        httpMethod: 'GET',
        isBase64Encoded: false,
        path: `/api/executions/suites/${suiteExecutionId}`,
        queryStringParameters: null,
        multiValueQueryStringParameters: null,
        stageVariables: null,
        requestContext: {},
        resource: '',
    });
    const createMockExecution = (overrides = {}) => ({
        executionId: 'exec-123',
        projectId: 'proj-123',
        testCaseId: 'test-123',
        testSuiteId: 'suite-123',
        suiteExecutionId: 'suite-exec-123',
        status: 'completed',
        result: 'pass',
        startTime: '2024-01-01T10:00:00Z',
        endTime: '2024-01-01T10:01:00Z',
        duration: 60000,
        steps: [],
        screenshots: [],
        metadata: {
            triggeredBy: 'user-123',
        },
        createdAt: '2024-01-01T10:00:00Z',
        updatedAt: '2024-01-01T10:01:00Z',
        ...overrides,
    });
    describe('Success Cases', () => {
        it('should return suite execution results with aggregate statistics', async () => {
            const suiteExecutionId = 'suite-exec-123';
            const mockExecutions = [
                createMockExecution({ executionId: 'exec-1', result: 'pass', duration: 30000 }),
                createMockExecution({ executionId: 'exec-2', result: 'pass', duration: 40000 }),
                createMockExecution({ executionId: 'exec-3', result: 'fail', duration: 20000 }),
            ];
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockResolvedValue(mockExecutions);
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(200);
            const body = JSON.parse(result.body);
            expect(body.suiteExecutionId).toBe(suiteExecutionId);
            expect(body.stats).toEqual({
                total: 3,
                passed: 2,
                failed: 1,
                errors: 0,
                duration: 90000,
            });
            expect(body.testCaseExecutions).toHaveLength(3);
            expect(body.status).toBe('completed');
        });
        it('should calculate suite status as running when tests are in progress', async () => {
            const suiteExecutionId = 'suite-exec-123';
            const mockExecutions = [
                createMockExecution({ executionId: 'exec-1', status: 'completed', result: 'pass' }),
                createMockExecution({ executionId: 'exec-2', status: 'running', result: undefined }),
                createMockExecution({ executionId: 'exec-3', status: 'queued', result: undefined }),
            ];
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockResolvedValue(mockExecutions);
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(200);
            const body = JSON.parse(result.body);
            expect(body.status).toBe('running');
        });
        it('should calculate suite status as error when tests have errors', async () => {
            const suiteExecutionId = 'suite-exec-123';
            const mockExecutions = [
                createMockExecution({ executionId: 'exec-1', status: 'completed', result: 'pass' }),
                createMockExecution({ executionId: 'exec-2', status: 'error', result: 'error' }),
            ];
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockResolvedValue(mockExecutions);
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(200);
            const body = JSON.parse(result.body);
            expect(body.status).toBe('error');
            expect(body.stats.errors).toBe(1);
        });
        it('should include suite timing information', async () => {
            const suiteExecutionId = 'suite-exec-123';
            const mockExecutions = [
                createMockExecution({
                    executionId: 'exec-1',
                    startTime: '2024-01-01T10:00:00Z',
                    endTime: '2024-01-01T10:01:00Z',
                }),
                createMockExecution({
                    executionId: 'exec-2',
                    startTime: '2024-01-01T10:00:30Z',
                    endTime: '2024-01-01T10:02:00Z',
                }),
            ];
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockResolvedValue(mockExecutions);
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(200);
            const body = JSON.parse(result.body);
            expect(body.startTime).toBe('2024-01-01T10:00:00.000Z'); // Earliest start
            expect(body.endTime).toBe('2024-01-01T10:02:00.000Z'); // Latest end
            expect(body.duration).toBeGreaterThan(0);
        });
    });
    describe('Error Cases', () => {
        it('should return 400 when suiteExecutionId is missing', async () => {
            const event = createMockEvent();
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(400);
            const body = JSON.parse(result.body);
            expect(body.error).toBe('Missing suiteExecutionId parameter');
        });
        it('should return 404 when suite execution not found', async () => {
            const suiteExecutionId = 'non-existent';
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockResolvedValue([]);
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(404);
            const body = JSON.parse(result.body);
            expect(body.error).toBe('Suite execution not found');
        });
        it('should return 500 on database error', async () => {
            const suiteExecutionId = 'suite-exec-123';
            test_execution_db_service_1.testExecutionDBService.getExecutionsBySuiteExecutionId.mockRejectedValue(new Error('Database connection failed'));
            const event = createMockEvent(suiteExecutionId);
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.statusCode).toBe(500);
            const body = JSON.parse(result.body);
            expect(body.error).toBe('Internal server error');
            expect(body.message).toBe('Database connection failed');
        });
    });
    describe('CORS Headers', () => {
        it('should include CORS headers in all responses', async () => {
            const event = createMockEvent();
            const result = await (0, get_suite_results_1.handler)(event);
            expect(result.headers).toEqual({
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',
            });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXN1aXRlLXJlc3VsdHMudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdldC1zdWl0ZS1yZXN1bHRzLnRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSw0REFBK0M7QUFDL0MsMkZBQXFGO0FBRXJGLDRCQUE0QjtBQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDLDZDQUE2QyxDQUFDLENBQUM7QUFFekQsUUFBUSxDQUFDLDBCQUEwQixFQUFFLEdBQUcsRUFBRTtJQUN4QyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ2QsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0lBQ3ZCLENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxlQUFlLEdBQUcsQ0FBQyxnQkFBeUIsRUFBd0IsRUFBRSxDQUFDLENBQUM7UUFDNUUsY0FBYyxFQUFFLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUk7UUFDOUQsSUFBSSxFQUFFLElBQUk7UUFDVixPQUFPLEVBQUUsRUFBRTtRQUNYLGlCQUFpQixFQUFFLEVBQUU7UUFDckIsVUFBVSxFQUFFLEtBQUs7UUFDakIsZUFBZSxFQUFFLEtBQUs7UUFDdEIsSUFBSSxFQUFFLDBCQUEwQixnQkFBZ0IsRUFBRTtRQUNsRCxxQkFBcUIsRUFBRSxJQUFJO1FBQzNCLCtCQUErQixFQUFFLElBQUk7UUFDckMsY0FBYyxFQUFFLElBQUk7UUFDcEIsY0FBYyxFQUFFLEVBQVM7UUFDekIsUUFBUSxFQUFFLEVBQUU7S0FDYixDQUFDLENBQUM7SUFFSCxNQUFNLG1CQUFtQixHQUFHLENBQUMsWUFBaUIsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BELFdBQVcsRUFBRSxVQUFVO1FBQ3ZCLFNBQVMsRUFBRSxVQUFVO1FBQ3JCLFVBQVUsRUFBRSxVQUFVO1FBQ3RCLFdBQVcsRUFBRSxXQUFXO1FBQ3hCLGdCQUFnQixFQUFFLGdCQUFnQjtRQUNsQyxNQUFNLEVBQUUs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QUUsR0FBRzthQUNuQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBUElHYXRld2F5UHJveHlFdmVudCB9IGZyb20gJ2F3cy1sYW1iZGEnO1xyXG5pbXBvcnQgeyBoYW5kbGVyIH0gZnJvbSAnLi4vZ2V0LXN1aXRlLXJlc3VsdHMnO1xyXG5pbXBvcnQgeyB0ZXN0RXhlY3V0aW9uREJTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvdGVzdC1leGVjdXRpb24tZGItc2VydmljZSc7XHJcblxyXG4vLyBNb2NrIHRoZSBkYXRhYmFzZSBzZXJ2aWNlXHJcbmplc3QubW9jaygnLi4vLi4vLi4vc2VydmljZXMvdGVzdC1leGVjdXRpb24tZGItc2VydmljZScpO1xyXG5cclxuZGVzY3JpYmUoJ0dldCBTdWl0ZSBSZXN1bHRzIExhbWJkYScsICgpID0+IHtcclxuICBiZWZvcmVFYWNoKCgpID0+IHtcclxuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBjcmVhdGVNb2NrRXZlbnQgPSAoc3VpdGVFeGVjdXRpb25JZD86IHN0cmluZyk6IEFQSUdhdGV3YXlQcm94eUV2ZW50ID0+ICh7XHJcbiAgICBwYXRoUGFyYW1ldGVyczogc3VpdGVFeGVjdXRpb25JZCA/IHsgc3VpdGVFeGVjdXRpb25JZCB9IDogbnVsbCxcclxuICAgIGJvZHk6IG51bGwsXHJcbiAgICBoZWFkZXJzOiB7fSxcclxuICAgIG11bHRpVmFsdWVIZWFkZXJzOiB7fSxcclxuICAgIGh0dHBNZXRob2Q6ICdHRVQnLFxyXG4gICAgaXNCYXNlNjRFbmNvZGVkOiBmYWxzZSxcclxuICAgIHBhdGg6IGAvYXBpL2V4ZWN1dGlvbnMvc3VpdGVzLyR7c3VpdGVFeGVjdXRpb25JZH1gLFxyXG4gICAgcXVlcnlTdHJpbmdQYXJhbWV0ZXJzOiBudWxsLFxyXG4gICAgbXVsdGlWYWx1ZVF1ZXJ5U3RyaW5nUGFyYW1ldGVyczogbnVsbCxcclxuICAgIHN0YWdlVmFyaWFibGVzOiBudWxsLFxyXG4gICAgcmVxdWVzdENvbnRleHQ6IHt9IGFzIGFueSxcclxuICAgIHJlc291cmNlOiAnJyxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY3JlYXRlTW9ja0V4ZWN1dGlvbiA9IChvdmVycmlkZXM6IGFueSA9IHt9KSA9PiAoe1xyXG4gICAgZXhlY3V0aW9uSWQ6ICdleGVjLTEyMycsXHJcbiAgICBwcm9qZWN0SWQ6ICdwcm9qLTEyMycsXHJcbiAgICB0ZXN0Q2FzZUlkOiAndGVzdC0xMjMnLFxyXG4gICAgdGVzdFN1aXRlSWQ6ICdzdWl0ZS0xMjMnLFxyXG4gICAgc3VpdGVFeGVjdXRpb25JZDogJ3N1aXRlLWV4ZWMtMTIzJyxcclxuICAgIHN0YXR1czogJ2NvbXBsZXRlZCcsXHJcbiAgICByZXN1bHQ6ICdwYXNzJyxcclxuICAgIHN0YXJ0VGltZTogJzIwMjQtMDEtMDFUMTA6MDA6MDBaJyxcclxuICAgIGVuZFRpbWU6ICcyMDI0LTAxLTAxVDEwOjAxOjAwWicsXHJcbiAgICBkdXJhdGlvbjogNjAwMDAsXHJcbiAgICBzdGVwczogW10sXHJcbiAgICBzY3JlZW5zaG90czogW10sXHJcbiAgICBtZXRhZGF0YToge1xyXG4gICAgICB0cmlnZ2VyZWRCeTogJ3VzZXItMTIzJyxcclxuICAgIH0sXHJcbiAgICBjcmVhdGVkQXQ6ICcyMDI0LTAxLTAxVDEwOjAwOjAwWicsXHJcbiAgICB1cGRhdGVkQXQ6ICcyMDI0LTAxLTAxVDEwOjAxOjAwWicsXHJcbiAgICAuLi5vdmVycmlkZXMsXHJcbiAgfSk7XHJcblxyXG4gIGRlc2NyaWJlKCdTdWNjZXNzIENhc2VzJywgKCkgPT4ge1xyXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gc3VpdGUgZXhlY3V0aW9uIHJlc3VsdHMgd2l0aCBhZ2dyZWdhdGUgc3RhdGlzdGljcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VpdGVFeGVjdXRpb25JZCA9ICdzdWl0ZS1leGVjLTEyMyc7XHJcbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRpb25zID0gW1xyXG4gICAgICAgIGNyZWF0ZU1vY2tFeGVjdXRpb24oeyBleGVjdXRpb25JZDogJ2V4ZWMtMScsIHJlc3VsdDogJ3Bhc3MnLCBkdXJhdGlvbjogMzAwMDAgfSksXHJcbiAgICAgICAgY3JlYXRlTW9ja0V4ZWN1dGlvbih7IGV4ZWN1dGlvbklkOiAnZXhlYy0yJywgcmVzdWx0OiAncGFzcycsIGR1cmF0aW9uOiA0MDAwMCB9KSxcclxuICAgICAgICBjcmVhdGVNb2NrRXhlY3V0aW9uKHsgZXhlY3V0aW9uSWQ6ICdleGVjLTMnLCByZXN1bHQ6ICdmYWlsJywgZHVyYXRpb246IDIwMDAwIH0pLFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgKHRlc3RFeGVjdXRpb25EQlNlcnZpY2UuZ2V0RXhlY3V0aW9uc0J5U3VpdGVFeGVjdXRpb25JZCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFeGVjdXRpb25zKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlTW9ja0V2ZW50KHN1aXRlRXhlY3V0aW9uSWQpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGV2ZW50KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzQ29kZSkudG9CZSgyMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVzdWx0LmJvZHkpO1xyXG4gICAgICBleHBlY3QoYm9keS5zdWl0ZUV4ZWN1dGlvbklkKS50b0JlKHN1aXRlRXhlY3V0aW9uSWQpO1xyXG4gICAgICBleHBlY3QoYm9keS5zdGF0cykudG9FcXVhbCh7XHJcbiAgICAgICAgdG90YWw6IDMsXHJcbiAgICAgICAgcGFzc2VkOiAyLFxyXG4gICAgICAgIGZhaWxlZDogMSxcclxuICAgICAgICBlcnJvcnM6IDAsXHJcbiAgICAgICAgZHVyYXRpb246IDkwMDAwLFxyXG4gICAgICB9KTtcclxuICAgICAgZXhwZWN0KGJvZHkudGVzdENhc2VFeGVjdXRpb25zKS50b0hhdmVMZW5ndGgoMyk7XHJcbiAgICAgIGV4cGVjdChib2R5LnN0YXR1cykudG9CZSgnY29tcGxldGVkJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBzdWl0ZSBzdGF0dXMgYXMgcnVubmluZyB3aGVuIHRlc3RzIGFyZSBpbiBwcm9ncmVzcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VpdGVFeGVjdXRpb25JZCA9ICdzdWl0ZS1leGVjLTEyMyc7XHJcbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRpb25zID0gW1xyXG4gICAgICAgIGNyZWF0ZU1vY2tFeGVjdXRpb24oeyBleGVjdXRpb25JZDogJ2V4ZWMtMScsIHN0YXR1czogJ2NvbXBsZXRlZCcsIHJlc3VsdDogJ3Bhc3MnIH0pLFxyXG4gICAgICAgIGNyZWF0ZU1vY2tFeGVjdXRpb24oeyBleGVjdXRpb25JZDogJ2V4ZWMtMicsIHN0YXR1czogJ3J1bm5pbmcnLCByZXN1bHQ6IHVuZGVmaW5lZCB9KSxcclxuICAgICAgICBjcmVhdGVNb2NrRXhlY3V0aW9uKHsgZXhlY3V0aW9uSWQ6ICdleGVjLTMnLCBzdGF0dXM6ICdxdWV1ZWQnLCByZXN1bHQ6IHVuZGVmaW5lZCB9KSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgICh0ZXN0RXhlY3V0aW9uREJTZXJ2aWNlLmdldEV4ZWN1dGlvbnNCeVN1aXRlRXhlY3V0aW9uSWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRXhlY3V0aW9ucyk7XHJcblxyXG4gICAgICBjb25zdCBldmVudCA9IGNyZWF0ZU1vY2tFdmVudChzdWl0ZUV4ZWN1dGlvbklkKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihldmVudCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1c0NvZGUpLnRvQmUoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlc3VsdC5ib2R5KTtcclxuICAgICAgZXhwZWN0KGJvZHkuc3RhdHVzKS50b0JlKCdydW5uaW5nJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIGNhbGN1bGF0ZSBzdWl0ZSBzdGF0dXMgYXMgZXJyb3Igd2hlbiB0ZXN0cyBoYXZlIGVycm9ycycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VpdGVFeGVjdXRpb25JZCA9ICdzdWl0ZS1leGVjLTEyMyc7XHJcbiAgICAgIGNvbnN0IG1vY2tFeGVjdXRpb25zID0gW1xyXG4gICAgICAgIGNyZWF0ZU1vY2tFeGVjdXRpb24oeyBleGVjdXRpb25JZDogJ2V4ZWMtMScsIHN0YXR1czogJ2NvbXBsZXRlZCcsIHJlc3VsdDogJ3Bhc3MnIH0pLFxyXG4gICAgICAgIGNyZWF0ZU1vY2tFeGVjdXRpb24oeyBleGVjdXRpb25JZDogJ2V4ZWMtMicsIHN0YXR1czogJ2Vycm9yJywgcmVzdWx0OiAnZXJyb3InIH0pLFxyXG4gICAgICBdO1xyXG5cclxuICAgICAgKHRlc3RFeGVjdXRpb25EQlNlcnZpY2UuZ2V0RXhlY3V0aW9uc0J5U3VpdGVFeGVjdXRpb25JZCBhcyBqZXN0Lk1vY2spLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tFeGVjdXRpb25zKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlTW9ja0V2ZW50KHN1aXRlRXhlY3V0aW9uSWQpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGV2ZW50KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzQ29kZSkudG9CZSgyMDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVzdWx0LmJvZHkpO1xyXG4gICAgICBleHBlY3QoYm9keS5zdGF0dXMpLnRvQmUoJ2Vycm9yJyk7XHJcbiAgICAgIGV4cGVjdChib2R5LnN0YXRzLmVycm9ycykudG9CZSgxKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBzdWl0ZSB0aW1pbmcgaW5mb3JtYXRpb24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN1aXRlRXhlY3V0aW9uSWQgPSAnc3VpdGUtZXhlYy0xMjMnO1xyXG4gICAgICBjb25zdCBtb2NrRXhlY3V0aW9ucyA9IFtcclxuICAgICAgICBjcmVhdGVNb2NrRXhlY3V0aW9uKHsgXHJcbiAgICAgICAgICBleGVjdXRpb25JZDogJ2V4ZWMtMScsIFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMjAyNC0wMS0wMVQxMDowMDowMFonLFxyXG4gICAgICAgICAgZW5kVGltZTogJzIwMjQtMDEtMDFUMTA6MDE6MDBaJyxcclxuICAgICAgICB9KSxcclxuICAgICAgICBjcmVhdGVNb2NrRXhlY3V0aW9uKHsgXHJcbiAgICAgICAgICBleGVjdXRpb25JZDogJ2V4ZWMtMicsIFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMjAyNC0wMS0wMVQxMDowMDozMFonLFxyXG4gICAgICAgICAgZW5kVGltZTogJzIwMjQtMDEtMDFUMTA6MDI6MDBaJyxcclxuICAgICAgICB9KSxcclxuICAgICAgXTtcclxuXHJcbiAgICAgICh0ZXN0RXhlY3V0aW9uREJTZXJ2aWNlLmdldEV4ZWN1dGlvbnNCeVN1aXRlRXhlY3V0aW9uSWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrRXhlY3V0aW9ucyk7XHJcblxyXG4gICAgICBjb25zdCBldmVudCA9IGNyZWF0ZU1vY2tFdmVudChzdWl0ZUV4ZWN1dGlvbklkKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihldmVudCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1c0NvZGUpLnRvQmUoMjAwKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlc3VsdC5ib2R5KTtcclxuICAgICAgZXhwZWN0KGJvZHkuc3RhcnRUaW1lKS50b0JlKCcyMDI0LTAxLTAxVDEwOjAwOjAwLjAwMFonKTsgLy8gRWFybGllc3Qgc3RhcnRcclxuICAgICAgZXhwZWN0KGJvZHkuZW5kVGltZSkudG9CZSgnMjAyNC0wMS0wMVQxMDowMjowMC4wMDBaJyk7IC8vIExhdGVzdCBlbmRcclxuICAgICAgZXhwZWN0KGJvZHkuZHVyYXRpb24pLnRvQmVHcmVhdGVyVGhhbigwKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBkZXNjcmliZSgnRXJyb3IgQ2FzZXMnLCAoKSA9PiB7XHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDAgd2hlbiBzdWl0ZUV4ZWN1dGlvbklkIGlzIG1pc3NpbmcnLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlTW9ja0V2ZW50KCk7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIoZXZlbnQpO1xyXG5cclxuICAgICAgZXhwZWN0KHJlc3VsdC5zdGF0dXNDb2RlKS50b0JlKDQwMCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBib2R5ID0gSlNPTi5wYXJzZShyZXN1bHQuYm9keSk7XHJcbiAgICAgIGV4cGVjdChib2R5LmVycm9yKS50b0JlKCdNaXNzaW5nIHN1aXRlRXhlY3V0aW9uSWQgcGFyYW1ldGVyJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgd2hlbiBzdWl0ZSBleGVjdXRpb24gbm90IGZvdW5kJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdWl0ZUV4ZWN1dGlvbklkID0gJ25vbi1leGlzdGVudCc7XHJcbiAgICAgICh0ZXN0RXhlY3V0aW9uREJTZXJ2aWNlLmdldEV4ZWN1dGlvbnNCeVN1aXRlRXhlY3V0aW9uSWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSk7XHJcblxyXG4gICAgICBjb25zdCBldmVudCA9IGNyZWF0ZU1vY2tFdmVudChzdWl0ZUV4ZWN1dGlvbklkKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihldmVudCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LnN0YXR1c0NvZGUpLnRvQmUoNDA0KTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnBhcnNlKHJlc3VsdC5ib2R5KTtcclxuICAgICAgZXhwZWN0KGJvZHkuZXJyb3IpLnRvQmUoJ1N1aXRlIGV4ZWN1dGlvbiBub3QgZm91bmQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdzaG91bGQgcmV0dXJuIDUwMCBvbiBkYXRhYmFzZSBlcnJvcicsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3Qgc3VpdGVFeGVjdXRpb25JZCA9ICdzdWl0ZS1leGVjLTEyMyc7XHJcbiAgICAgICh0ZXN0RXhlY3V0aW9uREJTZXJ2aWNlLmdldEV4ZWN1dGlvbnNCeVN1aXRlRXhlY3V0aW9uSWQgYXMgamVzdC5Nb2NrKS5tb2NrUmVqZWN0ZWRWYWx1ZShcclxuICAgICAgICBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJylcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGV2ZW50ID0gY3JlYXRlTW9ja0V2ZW50KHN1aXRlRXhlY3V0aW9uSWQpO1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKGV2ZW50KTtcclxuXHJcbiAgICAgIGV4cGVjdChyZXN1bHQuc3RhdHVzQ29kZSkudG9CZSg1MDApO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2UocmVzdWx0LmJvZHkpO1xyXG4gICAgICBleHBlY3QoYm9keS5lcnJvcikudG9CZSgnSW50ZXJuYWwgc2VydmVyIGVycm9yJyk7XHJcbiAgICAgIGV4cGVjdChib2R5Lm1lc3NhZ2UpLnRvQmUoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgZGVzY3JpYmUoJ0NPUlMgSGVhZGVycycsICgpID0+IHtcclxuICAgIGl0KCdzaG91bGQgaW5jbHVkZSBDT1JTIGhlYWRlcnMgaW4gYWxsIHJlc3BvbnNlcycsIGFzeW5jICgpID0+IHtcclxuICAgICAgY29uc3QgZXZlbnQgPSBjcmVhdGVNb2NrRXZlbnQoKTtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihldmVudCk7XHJcblxyXG4gICAgICBleHBlY3QocmVzdWx0LmhlYWRlcnMpLnRvRXF1YWwoe1xyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJyxcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiJdfQ==